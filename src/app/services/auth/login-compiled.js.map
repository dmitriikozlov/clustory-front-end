{"version":3,"sources":["login.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGA,IAAM,UAAU,SAAV,OAAU,CAAC,KAAD,EAAQ,OAAR,EAAoB;AAChC,oBAAM,QAAN,CAAe,OAAf,EAAwB,MAAM,KAA9B;AACA,sBAAe,IAAf,GAAsB,IAAtB,CAA2B,YAAM;AAC7B,sBAAI,MAAJ,CAAW,IAAX,CAAgB;AACZ,kBAAM;AADM,SAAhB;AAGA;AACH,KALD;AAMH,CARD;;AAUA;;;AAGA,IAAM,SAAS,SAAT,MAAS,CAAC,KAAD,EAAQ,MAAR,EAAmB;AAC9B,QAAI,MAAM,QAAN,KAAmB,SAAvB,EAAkC;AAC9B,eAAO,OAAO,EAAE,OAAO,CAAC,qBAAD,CAAT,EAAP,CAAP;AACH;AACD,WAAO,OAAO,MAAM,QAAN,CAAe,IAAtB,CAAP;AACH,CALD;;kBAOe;AAAA,WACX,sBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC7B,sBAAI,KAAJ,CAAU,IAAV,CAAe,OAAf,EAAwB,IAAxB,EACK,IADL,CACU,UAAC,QAAD,EAAc;AAChB,oBAAQ,SAAS,IAAjB,EAAuB,OAAvB;AACH,SAHL,EAIK,KAJL,CAIW,UAAC,KAAD,EAAW;AACd,mBAAO,KAAP,EAAc,MAAd;AACH,SANL;AAOH,KARD,CADW;AAAA,C","file":"login-compiled.js","sourcesContent":["import Vue from 'vue';\nimport accountService from './../account';\nimport store from './../../store';\n\n/**\n * When the request succeeds\n */\nconst success = (token, resolve) => {\n    store.dispatch('login', token.token);\n    accountService.find().then(() => {\n        Vue.router.push({\n            name: 'clients',\n        });\n        resolve();\n    });\n};\n\n/**\n * When the request fails\n */\nconst failed = (error, reject) => {\n    if (error.response === undefined) {\n        return reject({ error: ['Invalid credentials'] });\n    }\n    return reject(error.response.data);\n};\n\nexport default user => (\n    new Promise((resolve, reject) => {\n        Vue.$http.post('/auth', user)\n            .then((response) => {\n                success(response.data, resolve);\n            })\n            .catch((error) => {\n                failed(error, reject);\n            });\n    })\n);\n"]}